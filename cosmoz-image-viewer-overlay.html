<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-overlay-behavior/iron-overlay-behavior.html">

<link rel="import" href="cosmoz-image-viewer.html">

<dom-module id="cosmoz-image-viewer-overlay">
    <template>
        <style>
            :host {
                background: rgb(0, 0, 0);
                height: 100vh;
                width: 100vw;
            }
        </style>
        <cosmoz-image-viewer on-track="_trackHandler"
            images="[[images]]"
            sizing="contain"
            current-image-index="[[currentImageIndex]]"
            nav zoom>
        </cosmoz-image-viewer>

    </template>
    <script>
        Polymer({
        	is: 'cosmoz-image-viewer-overlay',

        	behaviors: [
        		Polymer.IronOverlayBehavior
        	],

        	properties: {
        		images: {
        			type: Array
        		},
        		currentImageIndex: {
        			type: Number
        		}
        	},

        	_trackHandler(e) {
        		if (e.detail.state !== 'end') {
        			return;
        		}
                // Swipe down for more than 100px
        		if (e.detail.dy > 100) {
        			this.close();
        		}
        	}

        });
    </script>
</dom-module>
